<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="ineaが制作した映像作品のポートフォリオ" />
  <link rel="icon" href="icon.png" type="image/png" />
  <title>inea Movie Portfolio</title>

  <!-- Open Graph Protocol -->
  <meta property="og:title" content="inea Movie Portfolio" />
  <meta property="og:description" content="ineaが制作した映像作品のポートフォリオ" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://ineair.github.io/movie-portfolio/" />
  <meta property="og:image" content="https://ineair.github.io/movie-portfolio/icon.png" />
  <meta property="og:site_name" content="inea Movie Portfolio" />

  <style>
    :root{--bg:#ffffff;--header-bg:#e6e8ee;--card:#f6f6f6;--muted:#8b8b8b;--accent:#e6e6e6;--radius:12px;font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    html,body{height:100%;}
    body{margin:0;background:var(--bg);color:#111;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:48px 24px;box-sizing:border-box;}
    header{background:var(--header-bg);border-radius:var(--radius);padding:24px;max-width:1100px;margin:0 auto 32px auto;display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap;box-shadow:0 2px 6px rgba(0,0,0,0.05);box-sizing:border-box;overflow:hidden;}
    .brand{display:flex;align-items:center;gap:16px;flex-shrink:1;flex-wrap:nowrap;min-width:0;}
    .brand img{width:60px;aspect-ratio:1/1;border-radius:50%;object-fit:cover;box-shadow:0 0 0 2px var(--accent);flex-shrink:0;}
    .brand-text{display:flex;flex-direction:column;min-width:0;overflow:hidden;}
    .brand-text h1{margin:0;font-size:20px;letter-spacing:0.02em;text-transform:lowercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .brand-text p{margin:4px 0 0 0;color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .header-right{display:flex;align-items:center;gap:12px;flex-wrap:nowrap;flex-shrink:0;}
    .updated{color:var(--muted);font-size:13px;white-space:nowrap;}
    .social-links{display:flex;align-items:center;gap:12px;flex-shrink:0;}
    .social-links a{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:white;border:1px solid var(--accent);transition:background 0.2s ease;text-decoration:none;flex-shrink:0;}
    .social-links a:hover{background:#f0f0f0;}
    .social-links img{width:16px;height:16px;object-fit:contain;display:block}
    main{max-width:1100px;margin:0 auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;}
    .card{background:var(--card);border-radius:var(--radius);padding:0;overflow:hidden;box-shadow:0 6px 18px rgba(14,14,14,0.04);border:1px solid var(--accent);}
    .media{position:relative;width:100%;padding-top:56.25%;background:#ddd;cursor:pointer;overflow:hidden;}
    .media img, .media iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0;display:block;object-fit:cover;}
    .meta{padding:14px 16px}
    .title{font-size:15px;margin:0 0 6px 0}
    .sub{font-size:13px;color:var(--muted);margin:0}
    .play{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:64px;aspect-ratio:1/1;border-radius:50%;background:rgba(255,255,255,0.9);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(0,0,0,0.12);}
    .play:after{content:'';display:block;margin-left:4px;border-style:solid;border-width:10px 0 10px 16px;border-color:transparent transparent transparent #111;}
    footer{max-width:1100px;margin:32px auto 0 auto;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:700px){header{flex-direction:column;align-items:flex-start;}.header-right{width:100%;justify-content:space-between;flex-wrap:wrap;}.brand{width:100%;justify-content:flex-start;}.brand-text h1, .brand-text p{white-space:normal;}}
    @media (max-width:420px){body{padding:28px 14px}.brand-text h1{font-size:18px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="icon.png" alt="アイコン" />
      <div class="brand-text">
        <h1>inea — movie portfolio</h1>
        <p>ineaが制作した映像作品のポートフォリオ</p>
      </div>
    </div>

    <div class="header-right">
      <div class="updated">Updated: <span id="updated">—</span></div>

      <nav class="social-links" aria-label="social links">
        <a href="https://x.com/ineair_" target="_blank" rel="noopener noreferrer" title="X (Twitter)">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg" alt="X" />
        </a>
        <a href="https://www.youtube.com/@ineair" target="_blank" rel="noopener noreferrer" title="YouTube">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube" />
        </a>
      </nav>
    </div>
  </header>

  <main>
    <section class="grid" id="videoGrid">
      <article class="card" data-id="5hjLq118RW4"></article>
      <article class="card" data-id="Xcy3oXsu4MY"></article>
      <article class="card" data-id="czo0hLJG5HE"></article>
      <article class="card" data-id="Do4MyWTSbuw"></article>
      <article class="card" data-id="570mf9hCcgo"></article>
    </section>
  </main>

  <footer>
    © inea — All rights reserved
  </footer>

  <script>
    const updatedEl = document.getElementById('updated');
    if (updatedEl) updatedEl.textContent = new Date().toLocaleDateString('ja-JP');

    async function fetchVideoTitle(videoId){
      try{
        const resp = await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`);
        if(!resp.ok) throw new Error('Failed to fetch');
        const data = await resp.json();
        return data.title;
      }catch(e){
        return 'YouTube Video';
      }
    }

    document.querySelectorAll('.card').forEach(async card => {
      const id = card.dataset.id;
      if(!id) return;
      const title = await fetchVideoTitle(id);
      const mediaDiv = document.createElement('div');
      mediaDiv.className = 'media';
      mediaDiv.dataset.id = id;
      mediaDiv.title = 'クリックして再生';
      const img = document.createElement('img');
      img.src = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
      img.alt = 'thumbnail';
      mediaDiv.appendChild(img);
      const playDiv = document.createElement('div');
      playDiv.className = 'play';
      mediaDiv.appendChild(playDiv);
      card.appendChild(mediaDiv);

      const metaDiv = document.createElement('div');
      metaDiv.className = 'meta';
      metaDiv.innerHTML = `<h3 class="title">${title}</h3><p class="sub">YouTube</p>`;
      card.appendChild(metaDiv);

      mediaDiv.addEventListener('click',()=>{
        if(mediaDiv.querySelector('iframe')) return;
        const iframe = document.createElement('iframe');
        iframe.src = `https://www.youtube.com/embed/${id}?autoplay=1&rel=0`;
        iframe.title='YouTube video player';
        iframe.allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
        iframe.allowFullscreen=true;
        iframe.style.objectFit='cover';
        mediaDiv.innerHTML='';
        mediaDiv.appendChild(iframe);
      });
    });
  </script>
</body>
</html>
